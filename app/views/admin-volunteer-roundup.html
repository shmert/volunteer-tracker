<div class="volunteer-nav"></div>

<div ng-if="!showingGenerated">
    <form role="form" ng-submit="search()" name="roundupForm" class="form">
        <div class="form-group">
            <label class="control-label" for="dateFrom">Date From</label>
            <input class="dateField date-field" id="dateFrom" ng-model="filter.dateFrom" placeholder="mm/dd/yyyy" required name="Date From"/>

        </div>

        <div class="form-group">
            <label class="control-label">Date To</label>
            <input class="dateField date-field" id="dateTo" ng-model="filter.dateTo" placeholder="mm/dd/yyyy" required name="Date To"/>
        </div>

        <div class="form-group">
            <label class="control-label">Group</label>
            <tags-input ng-model="filter.categories" placeholder="Restrictâ€¦" add-from-autocomplete-only="true"
                        replace-spaces-with-dashes="false">
              <auto-complete source="queryCategories($query)" load-on-focus="true" load-on-empty="true" max-results-to-show="25" min-length="1"></auto-complete>
            </tags-input>
        </div>

        <button type="submit" class="btn btn-primary">Find Jobs</button>
    </form>

    <h3>Found Jobs</h3>

    <job-list-directive jobs="jobs" hide-search="true" selected="selected"></job-list-directive>

    <button type="button" ng-click="generate()" class="btn btn-primary">Generate Roundup</button>

</div>


<div ng-if="showingGenerated" class="panel panel-default">
    <div class="panel-body">
        <div ng-repeat="j in jobs">
            <div ng-if="selected[j.id]"><h3>{{j.name}}: {{j.date | date}}</h3>
                <p>{{j.description}}</p>
            </div>
        </div>

        <button type="button" ng-click="close()" class="btn btn-primary">Close</button>
    </div>
</div>